import{d as P,n as o,l as k,q as A,f as C,o as E,p as F,b as S,a as q}from"./index-Dw-PjapE.js";import{_ as B}from"./plugin-vueexport-helper-DlAUqK2U.js";const L=h=>(F("data-v-e15f05fe"),h=h(),S(),h),z={class:"fireworks-container"},O=L(()=>q("canvas",{id:"canvas"},null,-1)),W=[O],H=P({__name:"index",setup(h){const s=o(null),l=o(),r=o(0),v=o(0),i=o([]),y=o(.04),m=o(0),p=o(0),c=o(),_=()=>{s.value=document.getElementById("canvas"),s.value&&(l.value=s.value.getContext("2d"),s.value.addEventListener("click",e=>{console.log(e);const t=(e.layerX+e.x)/2,a=(e.layerY+e.y)/2;w(t,a)}),d()),c.value=window.requestAnimationFrame(f)},d=()=>{s.value&&(r.value=s.value.width=window.innerWidth,v.value=s.value.height=window.innerHeight)};k(()=>{_(),window.addEventListener("resize",d,!1)}),A(()=>{window.removeEventListener("resize",d,!1),window.cancelAnimationFrame(c.value)});const f=()=>{x(),M(),c.value=window.requestAnimationFrame(f)},x=()=>{var t;((t=i.value)==null?void 0:t.length)<500&&Math.random()<y.value&&w();const e=[];for(let a=0;a<i.value.length;a++)i.value[a].move()&&e.push(i.value[a]);i.value=e},M=()=>{var e,t;l.value.globalCompositeOperation="source-over",l.value.fillStyle="rgba(0,0,0,0.2)",l.value.fillRect(0,0,r.value,v.value),l.value.globalCompositeOperation="lighter";for(let a=0;a<i.value.length;a++)(t=(e=i.value)==null?void 0:e[a])==null||t.draw(l.value)},w=(e,t)=>{m.value=e??Math.random()*(r.value-200)+100,p.value=t??Math.random()*(v.value-200)+100;const a=Math.random()*50+100,I="rgb("+~~(Math.random()*200+55)+","+~~(Math.random()*200+55)+","+~~(Math.random()*200+55)+")";for(let g=0;g<a;g++){const n=new b;n.color=I;const u=Math.sqrt(25-n.vx*n.vx);Math.abs(n.vy)>u&&(n.vy=n.vy>0?u:-u),i.value.push(n)}};class b{constructor(){this.width=this.height=Math.random()*4+1,this.x=m.value-this.width/2,this.y=p.value-this.height/2,this.vx=(Math.random()-.5)*10,this.vy=(Math.random()-.5)*10,this.alpha=Math.random()*.5+.5,this.gravity=.05}move(){return this.x+=this.vx,this.vy+=this.gravity,this.y+=this.vy,this.alpha-=.01,!(this.x<=-this.width||this.x>=screen.width||this.y>=screen.height||this.alpha<=0)}draw(t){t.save(),t.beginPath(),t.translate(this.x+this.width/2,this.y+this.height/2),t.arc(0,0,this.width,0,Math.PI*2),t.fillStyle=this.color,t.globalAlpha=this.alpha,t.closePath(),t.fill(),t.restore()}}return(e,t)=>(E(),C("div",z,W))}}),U=B(H,[["__scopeId","data-v-e15f05fe"]]);export{U as default};
