import{d as L,c as R,r as w,z as T,a as M,b as x,p as U,g as B,_ as S,j as Q,w as j,A as E,B as q,C as I,q as N,l as F,F as Z,e as ee,n as te,o as se,x as H,h as ne,D as oe,t as ae}from"./index-COQhxWnb.js";const re=u=>{const s=u.toString(16).toUpperCase();return s.length==1?"0"+s:s},P=u=>{const s=ue(u).substr(1).split(""),t=s[0]+s[1],n=s[2]+s[3],h=s[4]+s[5],m=s[6]+s[7],l=parseInt(t,16),e=parseInt(n,16),a=parseInt(h,16),p=parseInt(m,16)/255;return{hex:"#"+t+n+h,hexa:"#"+t+n+h+m,r:l,g:e,b:a,a:p}},ue=u=>{if(!u||u.length<3)return"#000000FF";let s=u.toUpperCase();if(s.startsWith("#")&&(s=s.substr(1)),s.length<3)return"#000000FF";let t,n,h,m;if(t=n=h="00",m="FF",s.length===3){const e=s.repeat(2).split("").map(a=>Y(a));t=e[0]+e[1],n=e[2]+e[3],h=e[4]+e[5]}else if(s.length>=6){const l=s.split("").map(e=>Y(e));t=l[0]+l[1],n=l[2]+l[3],h=l[4]+l[5],l.length===8&&(m=l[6]+l[7])}return`#${t}${n}${h}${m}`},Y=u=>u.length<0||u.length>1?"0":isNaN(u)?["A","B","C","D","E","F"].includes(u.toUpperCase())?u.toUpperCase():"0":u,J=u=>{const s=l=>l>255?255:l<0?0:Math.round(l),t=u/60*255,n=s(Math.abs(t-765)-255),h=s(510-Math.abs(t-510)),m=s(510-Math.abs(t-1020));return{r:n,g:h,b:m}},A=(u,s,t)=>{let n,h,m,l,e,a=0,p=0,g=0;switch(s<0&&(s=0),s>1&&(s=1),t<0&&(t=0),t>1&&(t=1),u%=360,u<0&&(u+=360),u/=60,n=Math.floor(u),h=u-n,m=t*(1-s),l=t*(1-s*h),e=t*(1-s*(1-h)),n){case 0:a=t,p=e,g=m;break;case 1:a=l,p=t,g=m;break;case 2:a=m,p=t,g=e;break;case 3:a=m,p=l,g=t;break;case 4:a=e,p=m,g=t;break;case 5:a=t,p=m,g=l;break}return{r:Math.round(a*255),g:Math.round(p*255),b:Math.round(g*255)}},K=u=>{const{r:s,g:t,b:n}=u;let h=(1<<24)+s*65536+t*256+n;return h=h.toString(16).toUpperCase(),"#"+h.slice(1)},W=u=>{let s=u.substring(1);s="0x"+(s.length<6?l(s,2):s);const t=s>>16,n=s>>8&"0xff",h=s&"0xff";return{r:t,g:n,b:h};function m(e,a){let p="";for(let g=0;g<a;g++)p+=e;return p}function l(e,a){let p="";for(const g of e)p+=m(g,a);return p}},z=({r:u,g:s,b:t})=>{u=u/255,s=s/255,t=t/255;const n=Math.max(u,s,t),h=Math.min(u,s,t),m=n-h,l=n,e=n===0?0:m/n;let a=0;if(m!==0){switch(n){case u:a=(s-t)/m+(s<t?6:0);break;case s:a=(t-u)/m+2;break;case t:a=(u-s)/m+4;break}a=a/6}return{h:a*360,s:e,v:l}},le=L({__name:"Gradient",props:{width:{},currentColor:{},hue:{},sat:{},val:{}},emits:["update:sat","update:val"],setup(u,{expose:s,emit:t}){const n=u,h=t,m=R(()=>{const{r:d,g:c,b:v}=J(n.hue);return`rgba(${d}, ${c}, ${v}, 1)`}),l=R(()=>n.width),e=w(0),a=w(0),p=w(0),g=w(),y=w(),k=d=>{d.which===1&&(b(),r(),d.target!=y.value&&(o(d.offsetX,d.offsetY),d.stopPropagation(),d.preventDefault()))},_=()=>{f()},i=d=>{let c=d.pageX-e.value,v=d.pageY-a.value;c=Math.min(l.value,Math.max(0,c)),v=Math.min(p.value,Math.max(0,v)),o(c,v)},o=(d,c)=>{y.value.style.transform=`translate(${d}px, ${c}px)`;const v=d/l.value,C=1-c/p.value;h("update:sat",v),h("update:val",C)},r=()=>{const d=g.value.getBoundingClientRect();e.value=d.left,a.value=d.top,p.value=d.height};s({setSizePoses:r,setCursor:()=>{const d=l.value*n.sat,c=p.value*(1-n.val);y.value.style.transform=`translate(${d}px, ${c}px)`}});const b=()=>{document.addEventListener("mouseup",_),document.addEventListener("mousemove",i)},f=()=>{document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",i)};return T(()=>{f()}),(d,c)=>(B(),M("div",{class:"gradient-content",ref_key:"gradientRef",ref:g,style:U({backgroundColor:m.value}),onMousedown:k},[c[0]||(c[0]=x("div",{class:"sat-container"},null,-1)),c[1]||(c[1]=x("div",{class:"val-container"},null,-1)),x("div",{ref_key:"gradientCursorRef",ref:y,class:"cursor-container",style:U({backgroundColor:n.currentColor})},null,4)],36))}}),ie=S(le,[["__scopeId","data-v-f01603c6"]]),ce=L({__name:"Hue",props:{width:{},hue:{}},emits:["update:hue"],setup(u,{expose:s,emit:t}){const n=u,h=t,m=R(()=>{const{r:b,g:f,b:d}=J(n.hue);return`rgba(${b}, ${f}, ${d}, 1)`}),l=R(()=>n.width),e=w(0),a=w(),p=w(),g=b=>{b.which===1&&(r(),i(),b.target!=p.value&&(_(b.offsetX),b.stopPropagation(),b.preventDefault()))},y=()=>{$()},k=b=>{let f=b.pageX-e.value;f=Math.min(l.value,Math.max(0,f)),_(f)},_=b=>{p.value.style.transform=`translate(${b}px, 0px)`;const f=Math.round(b/l.value*360*100)/100;h("update:hue",f)},i=()=>{const b=a.value.getBoundingClientRect();e.value=b.left};s({setSizePoses:i,setCursor:()=>{const b=n.hue*l.value/360;p.value.style.transform=`translate(${b}px, 0px)`}});const r=()=>{document.addEventListener("mouseup",y),document.addEventListener("mousemove",k)},$=()=>{document.removeEventListener("mouseup",y),document.removeEventListener("mousemove",k)};return T(()=>{$()}),(b,f)=>(B(),M("div",{ref_key:"hueRef",ref:a,class:"hue-slider",onMousedown:g},[x("div",{ref_key:"hueCursorRef",ref:p,class:"slider-cursor",style:U({backgroundColor:m.value})},null,4)],544))}}),pe=S(ce,[["__scopeId","data-v-2da596e5"]]),de=L({__name:"Opacity",props:{width:{},hue:{},sat:{},val:{},alpha:{}},emits:["update:alpha"],setup(u,{expose:s,emit:t}){const n=u,h=t,m=R(()=>{const{r:f,g:d,b:c}=A(n.hue,n.sat,n.val),v=`rgba(${f}, ${d}, ${c}, 0)`,C=`rgba(${f}, ${d}, ${c}, 1)`;return`linear-gradient(to right, ${v}, ${C})`}),l=R(()=>{const{r:f,g:d,b:c}=A(n.hue,n.sat,n.val);return`rgba(${f}, ${d}, ${c}, ${n.alpha})`}),e=R(()=>n.width),a=w(0),p=w(),g=w(),y=f=>{f.which===1&&($(),o(),f.target!=g.value&&(i(f.offsetX),f.stopPropagation(),f.preventDefault()))},k=()=>{b()},_=f=>{let d=f.pageX-a.value;d=Math.min(e.value,Math.max(0,d)),i(d)},i=f=>{g.value.style.transform=`translate(${f}px, 0px)`;const d=f/e.value*100/100;h("update:alpha",d)},o=()=>{const f=p.value.getBoundingClientRect();a.value=f.left};s({setSizePoses:o,setCursor:()=>{const f=n.alpha*e.value;g.value.style.transform=`translate(${f}px, 0px)`}});const $=()=>{document.addEventListener("mouseup",k),document.addEventListener("mousemove",_)},b=()=>{document.removeEventListener("mouseup",k),document.removeEventListener("mousemove",_)};return T(()=>{b()}),(f,d)=>(B(),M("div",{ref_key:"alphaRef",ref:p,class:"alpha-slider",onMousedown:y},[x("div",{class:"alpha-slider-content",style:U({background:m.value})},[x("div",{ref_key:"alphaCursorRef",ref:g,class:"slider-cursor",style:U({background:l.value})},null,4)],4)],544))}}),ve=S(de,[["__scopeId","data-v-13dce5c2"]]),he={class:"input-content"},fe=["value"],me={class:"input-rgb"},ge={class:"input-rgb-item"},Ce={class:"input-rgb-item"},be={class:"input-rgb-item"},xe={key:0,class:"input-rgb-item"},we={class:"input-hex"},ye=L({__name:"ColorInput",props:{hue:{},sat:{},val:{},alpha:{},showOpacity:{type:Boolean}},emits:["update:hue","update:sat","update:val","update:alpha"],setup(u,{emit:s}){const t=u,n=s,h=w("hex"),m=i=>{const o=i.target.value;h.value=o},l=()=>{const{r:i,g:o,b:r}=A(t.hue,t.sat,t.val),$=K({r:i,g:o,b:r});return{r:i,g:o,b:r,a:t.alpha,hex:$}},e=Q({r:0,g:0,b:0,a:1,hex:"#FFFE00FF"});j([()=>t.hue,()=>t.sat,()=>t.val,()=>t.alpha],()=>{const{r:i,g:o,b:r,a:$,hex:b}=l();e.r=i,e.g=o,e.b=r,e.a=$,e.hex=b},{immediate:!0});const a=()=>{let i=Number(e.r);i=isNaN(i)?0:i>255?255:i<0?0:i;let o=Number(e.g);o=isNaN(o)?0:o>255?255:o<0?0:o;let r=Number(e.b);return r=isNaN(r)?0:r>255?255:r<0?0:r,{r:i,g:o,b:r}},p=()=>{let i=Number(e.a);return i=isNaN(i)?0:i>1?1:i<0?0:i,i},g=i=>{var o;if(i=="rgb"){const{r,g:$,b}=a(),{h:f,s:d,v:c}=z({r,g:$,b});F(()=>{n("update:hue",f),n("update:sat",d),n("update:val",c)})}else if(i=="a"){const r=p();F(()=>{n("update:alpha",r)})}else if(i=="hex"&&((o=e.hex)==null?void 0:o.length)>=7){const{hex:r}=P(e.hex),{r:$,g:b,b:f}=W(r),{h:d,s:c,v}=z({r:$,g:b,b:f});F(()=>{n("update:hue",d),n("update:sat",c),n("update:val",v)})}},y=()=>{const{r:i,g:o,b:r}=a();e.r=i,e.g=o,e.b=r},k=()=>{const i=p();e.a=i},_=i=>{const o=i.target.value;if(o.length<7){const{hex:r}=l();e.hex=r}else if(o.length>=7){const{hex:r}=P(o.slice(0,7));e.hex=r}};return(i,o)=>(B(),M("div",he,[x("select",{class:"input-select",value:h.value,onChange:m},o[12]||(o[12]=[x("option",{class:"input-select-option",value:"hex"},"HEX",-1),x("option",{class:"input-select-option",value:"rgb"},"RGB",-1)]),40,fe),E(x("div",me,[x("div",ge,[E(x("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.r=r),onInput:o[1]||(o[1]=r=>g("rgb")),onBlur:y},null,544),[[I,e.r]])]),x("div",Ce,[E(x("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>e.g=r),onInput:o[3]||(o[3]=r=>g("rgb")),onBlur:y},null,544),[[I,e.g]])]),x("div",be,[E(x("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>e.b=r),onInput:o[5]||(o[5]=r=>g("rgb")),onBlur:y},null,544),[[I,e.b]])]),t.showOpacity?(B(),M("div",xe,[E(x("input",{class:"alpha-input","onUpdate:modelValue":o[6]||(o[6]=r=>e.a=r),onInput:o[7]||(o[7]=r=>g("a")),onBlur:k},null,544),[[I,e.a]])])):N("",!0)],512),[[q,h.value==="rgb"]]),E(x("div",we,[E(x("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>e.hex=r),onInput:o[9]||(o[9]=r=>g("hex")),onBlur:_},null,544),[[I,e.hex]]),t.showOpacity?E((B(),M("input",{key:0,class:"alpha-input","onUpdate:modelValue":o[10]||(o[10]=r=>e.a=r),onInput:o[11]||(o[11]=r=>g("a")),onBlur:k},null,544)),[[I,e.a]]):N("",!0)],512),[[q,h.value==="hex"]])]))}}),$e=S(ye,[["__scopeId","data-v-ab4d0fa4"]]),_e={key:0,class:"swatch-content"},ke=["onClick"],Be=L({__name:"Swatches",props:{swatches:{},hideSwatches:{type:Boolean,default:!1},showOpacity:{type:Boolean},currentColor:{}},emits:["select"],setup(u,{emit:s}){const t=u,n=s,h=R(()=>{const l=["#56CCF2","#4BDDD4","#61F0E7","#49F397","#96E24A","#F1E257","#FCB17A","#EB5C5C","#DD789C","#F563DE","#C18AF7","#8177F5","#9F71B5","#A9A1C0","#CEA3F9","#4792E6"];return t.showOpacity?t.swatches??l.map(e=>e+"FF"):t.swatches??l}),m=l=>{const{hex:e,a}=P(l);t.showOpacity?n("select",e,a):n("select",e)};return(l,e)=>l.hideSwatches?N("",!0):(B(),M("div",_e,[(B(!0),M(Z,null,ee(h.value,a=>(B(),M("div",{key:a,class:te(["swatch-item",{"has-border":t.currentColor===a}]),style:U({backgroundColor:a}),onClick:p=>m(a)},null,14,ke))),128))]))}}),Re=S(Be,[["__scopeId","data-v-5debd9cb"]]),Me={class:"panel-content"},Ee={class:"controls-container"},Ue=L({__name:"Panel",props:{value:{default:""},width:{default:240},showOpacity:{type:Boolean,default:!0}},emits:["update:value","change"],setup(u,{emit:s}){const t=u,n=s,h=R(()=>t.width),m=w(),l=R(()=>{var c;return((c=m.value)==null?void 0:c.offsetWidth)??0}),e=w(0),a=w(0),p=w(0),g=w(1),y=R(()=>{const{r:c,g:v,b:C}=A(e.value,a.value,p.value),O=K({r:c,g:v,b:C});if(t.showOpacity){const D=re(Math.round(g.value*255));return O+D}else return O});j(y,()=>{F(()=>{n("update:value",y.value),n("change",y.value),r()})}),se(()=>{F(()=>{k()})});const k=()=>{if(t.value){const{hex:c,a:v}=P(t.value),{r:C,g:O,b:D}=W(c),{h:V,s:G,v:X}=z({r:C,g:O,b:D});e.value=V,a.value=G,p.value=X,t.showOpacity&&(g.value=v)}F(()=>{r()})},_=w(),i=w(),o=w(),r=()=>{$(),F(()=>{b()})},$=()=>{var c,v,C;(c=_.value)==null||c.setSizePoses(),(v=i.value)==null||v.setSizePoses(),(C=o.value)==null||C.setSizePoses()},b=()=>{var c,v,C;(c=_.value)==null||c.setCursor(),(v=i.value)==null||v.setCursor(),(C=o.value)==null||C.setCursor()},f=(c,v)=>{const{r:C,g:O,b:D}=W(c),{h:V,s:G,v:X}=z({r:C,g:O,b:D});e.value=V,a.value=G,p.value=X,t.showOpacity&&(g.value=v)},d=async()=>{const C=(await new window.EyeDropper().open({})).sRGBHex;f(C,"1")};return(c,v)=>(B(),M("div",Me,[H(ie,{ref_key:"gradientRef",ref:_,width:h.value,currentColor:y.value,hue:e.value,sat:a.value,"onUpdate:sat":v[0]||(v[0]=C=>a.value=C),val:p.value,"onUpdate:val":v[1]||(v[1]=C=>p.value=C)},null,8,["width","currentColor","hue","sat","val"]),x("div",Ee,[x("div",{class:"slider-container",ref_key:"sliderRef",ref:m},[H(pe,{ref_key:"hueRef",ref:i,width:l.value,hue:e.value,"onUpdate:hue":v[2]||(v[2]=C=>e.value=C)},null,8,["width","hue"]),t.showOpacity?(B(),ne(ve,{key:0,ref_key:"opacityRef",ref:o,width:l.value,alpha:g.value,"onUpdate:alpha":v[3]||(v[3]=C=>g.value=C),hue:e.value,sat:a.value,val:p.value},null,8,["width","alpha","hue","sat","val"])):N("",!0)],512),x("div",{class:"square",onClick:d},[x("span",{style:U({backgroundColor:y.value})},null,4)])]),H($e,{hue:e.value,"onUpdate:hue":v[4]||(v[4]=C=>e.value=C),sat:a.value,"onUpdate:sat":v[5]||(v[5]=C=>a.value=C),val:p.value,"onUpdate:val":v[6]||(v[6]=C=>p.value=C),alpha:g.value,"onUpdate:alpha":v[7]||(v[7]=C=>g.value=C),showOpacity:t.showOpacity},null,8,["hue","sat","val","alpha","showOpacity"]),H(Re,oe(c.$attrs,{currentColor:y.value,showOpacity:c.showOpacity,onSelect:f}),null,16,["currentColor","showOpacity"])]))}}),Fe=S(Ue,[["__scopeId","data-v-2dcba686"]]),Le={class:"color-picker-container"},Se={class:"color-panel"},Oe=L({__name:"index",setup(u){const s=w("#4695CA");return(t,n)=>(B(),M("div",Le,[x("div",{class:"color-picker-content",style:U({"background-color":s.value})},[n[1]||(n[1]=x("div",{class:"tips"},ae("Color Picker"),-1)),x("div",Se,[H(Fe,{value:s.value,"onUpdate:value":n[0]||(n[0]=h=>s.value=h)},null,8,["value"])])],4)]))}}),De=S(Oe,[["__scopeId","data-v-f47bc332"]]);export{De as default};
