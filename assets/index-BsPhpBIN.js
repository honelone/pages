import{g as I}from"./color-CWPKctqu.js";import{d as N,n as u,h as d,l as w,f as s,a as i,F as f,i as $,o as l,g as A}from"./index-CIE6gskm.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"wave-container"},L={class:"orbit-group"},F=["id","d","stroke"],H={class:"circle-group"},R=["fill"],q=["dur","id","path","begin","repeatCount"],V=["dur","id","path","begin"],E=900,k=127,T=100,j=N({__name:"index",setup(x){const a=u(28),g=d(()=>new Array(a.value).fill(0)),e=u(!0),h=u(10),v=u(10),W=u(1);w(()=>{var c,t;const n=((c=document.querySelector(".wave-container"))==null?void 0:c.clientWidth)??0,r=((t=document.querySelector(".wave-container"))==null?void 0:t.clientHeight)??0,o=Math.min(n,r)/a.value||a.value;console.log("containerWidth =>",n,r,o),h.value=Math.floor(o-1),v.value=Math.floor(o/2-1)});const _=d(()=>(g.value??[]).map((n,r)=>{const o=p(r),c=h.value+r*v.value,t=`M 0,-${c} A ${c} ${c} 180 1 1 0,${c}`,M=`M 0,-${c} A ${c} ${c} 180 1 1 0,${c} A ${c} ${c} 180 1 1 0,-${c}`,b=`M 0,${c} A ${c} ${c} 180 1 0 0,-${c}`;return{strokeColor:o,semicirclePath:t,fullCirclePath:M,reverseSemicirclePath:b}})),C=d(()=>_.value.map((n,r)=>{const o=p(r),c=h.value+r*v.value;return{fill:o,cx:c,cy:0,clockWisePath:e.value?n==null?void 0:n.fullCirclePath:n==null?void 0:n.semicirclePath,clockWiseId:`clockWise${r}`,anticlockWisePath:n==null?void 0:n.reverseSemicirclePath,anticlockWiseId:`anticlockWise${r}`,dur:y(r)}})),p=n=>{const r=Math.round(n/a.value*360*100)/100;return I(r)},P=d(()=>(k-T)/(a.value-1)),y=n=>{const r=(k-n*P.value)*2,o=E/r;return console.log(`第${n+1}个， 每个半圆花费${o}秒`),o/W.value};return(n,r)=>(l(),s("div",B,[(l(),s("svg",null,[i("g",L,[(l(!0),s(f,null,$(_.value,(o,c)=>(l(),s("path",{key:c,id:`orbit${c}`,d:e.value?o==null?void 0:o.fullCirclePath:o==null?void 0:o.semicirclePath,stroke:o==null?void 0:o.strokeColor,fill:"none"},null,8,F))),128))]),i("g",H,[(l(!0),s(f,null,$(C.value,(o,c)=>(l(),s("circle",{key:c,class:"circle",cx:0,cy:0,fill:o==null?void 0:o.fill,r:"6"},[i("animateMotion",{dur:o==null?void 0:o.dur,id:o==null?void 0:o.clockWiseId,path:o==null?void 0:o.clockWisePath,begin:e.value?"0":`0;${o==null?void 0:o.anticlockWiseId}.end`,repeatCount:e.value?"indefinite":""},null,8,q),e.value?A("",!0):(l(),s("animateMotion",{key:0,dur:o==null?void 0:o.dur,id:o==null?void 0:o.anticlockWiseId,path:o==null?void 0:o.anticlockWisePath,begin:`${o==null?void 0:o.clockWiseId}.end`},null,8,V))],8,R))),128))])]))]))}}),J=S(j,[["__scopeId","data-v-7b330f03"]]);export{J as default};
