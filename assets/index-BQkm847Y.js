import{u as W}from"./index-Dbt3Agqd.js";import{C as T,D as V,E as j,F as H,G as I,A as O,B as z,a as J,b as K,c as P,d as Q,e as U,f as X,g as Y,h as Z,i as tt,j as et,k as st,l as ot,m as at,n as rt,o as nt,p as ct,q as lt,r as ut,s as it,t as dt,u as ft}from"./B4-qDWvYMuB.js";import{n as o,d as pt,h as L,l as vt,f as c,a as d,t as mt,F as b,i as F,o as l,g as _t}from"./index-D2QdGVAP.js";import{g as kt}from"./color-CWPKctqu.js";import{_ as gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ht=[T,V,j,H,I,O,z,J,K,P,Q,U,X,Y,Z,tt,et,st,ot,at,rt,nt,ct,lt,ut,it,dt,ft];function yt(){const k=o(ht),f=o([]);return f.value=k.value.map(i=>W(i,{playbackRate:.5})),{playList:f}}const At={class:"wave-container"},Rt={class:"controller"},Ct={class:"orbit-group"},Lt=["id","d","stroke","stroke-width"],bt=["transform"],Ft=["cx","cy","r","stroke","fill"],Bt=["x2","y2","stroke"],Nt=pt({__name:"index",setup(k){const f=o(1),{playList:i}=yt(),g=L(()=>i.value.length),v=o([]),B=()=>{const e=i.value.map((a,t)=>{const s=y(t),n=`M ${s},0 A ${s} ${s} 180 1 0 -${s},0`,r=A(t);return{d:n,stroke:r,strokeWidth:1}});v.value=e},N=o(!1),h=o([]),S=()=>{h.value=v.value.map((e,a)=>{const t=-y(a),s=0,n=5,r=A(a);return{cx:t,cy:s,r:n,fill:r,rotate:0}})},y=e=>25+e*800/(g.value*2),A=e=>{const a=Math.round(e/g.value*360*100)/100;return kt(a)},w=e=>e<180?e:e<360?360-e:0,x=e=>180/(900/(254-e*2)),G=o(),M=o(),D=o(30),R=new Map,E=L(()=>h.value.map((e,a)=>{var p;const s=x(a)*m.value/D.value%360,n=w(s),r=Math.round(n);return _.value&&(r==0||r==180)&&R.get(a)!=r&&((p=i.value[a])==null||p.play({playbackRate:f.value})),R.set(a,r),{...e,transform:`rotate(${n})`}})),m=o(0),$=o(.5),u=o(),_=o(!1),q=()=>{u.value?(cancelAnimationFrame(u.value),u.value=void 0,_.value=!1):(_.value=!0,u.value=requestAnimationFrame(C))},C=()=>{m.value=m.value+$.value,u.value=requestAnimationFrame(C)};return vt(()=>{B(),S()}),(e,a)=>(l(),c("div",At,[d("div",Rt,[d("div",{class:"controller-item-btn",onClick:q},mt(u.value?"Stop":"Start"),1)]),(l(),c("svg",null,[d("g",Ct,[(l(!0),c(b,null,F(v.value,(t,s)=>(l(),c("path",{key:s,id:`orbit${s}`,d:t.d,stroke:t.stroke,"stroke-width":t.strokeWidth,"stroke-linecap":"round",fill:"none"},null,8,Lt))),128))]),d("g",{class:"circle-group",ref_key:"circleGroupRef",ref:G},[(l(!0),c(b,null,F(E.value,(t,s)=>(l(),c("g",{key:s,transform:t.transform},[d("circle",{ref_for:!0,ref_key:"circleRef",ref:M,cx:t.cx,cy:t.cy,r:t.r,stroke:t.fill,fill:t.fill},null,8,Ft),N.value?(l(),c("line",{key:0,x1:"0",y1:"0",x2:t.cx,y2:t.cy,stroke:t.fill},null,8,Bt)):_t("",!0)],8,bt))),128))],512)]))]))}}),Dt=gt(Nt,[["__scopeId","data-v-f34e75dd"]]);export{Dt as default};
